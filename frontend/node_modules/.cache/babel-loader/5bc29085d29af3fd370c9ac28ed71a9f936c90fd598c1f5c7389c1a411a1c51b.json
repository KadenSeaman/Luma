{"ast":null,"code":"import Relationship from \"../models/edgeModel\";\nimport Node from \"../models/nodeModel\";\nimport Field from '../models/fieldModel';\nimport Method from '../models/methodModel';\nexport const preProcessJSONData = data => {\n  const nodeNameToId = new Map();\n  const edgeNameToId = new Map();\n  let nodeCount = 0;\n  let edgeCount = 0;\n\n  // if root has no class or relationship children, return\n  if (data.Children === null) return null;\n  const root = {\n    nodeList: [],\n    edgeList: []\n  };\n\n  // loop through and gather all nodes\n  for (const child of data.Children) {\n    if (child.Type === 'Class') {\n      const id = `n${nodeCount}`;\n      const node = preProcessClass(child, id);\n      root.nodeList.push(node);\n      nodeNameToId.set(id, node);\n      nodeCount++;\n    }\n  }\n  // loop through and gather all edges\n  for (const child of data.Children) {\n    if (child.Type === 'Relationship') {\n      const sourceId = nodeNameToId.get(child.source) || null;\n      const targetId = nodeNameToId.get(child.target) || null;\n\n      // if source node does not exist, do not add this edge to the list\n      if (sourceId === null) return;\n      // if target node does not exist, do not add this edge to the list\n      if (targetId === null) return;\n      const id = `e${edgeCount}`;\n      const edge = preProcessRelationship(child, id);\n      root.edgeList.push(edge);\n      edgeNameToId.set(id, edge);\n      edgeCount++;\n    }\n  }\n  console.log(root.nodeList);\n  return root;\n};\nconst preProcessClass = (classObj, id) => {\n  const name = classObj.Name;\n  const fields = [];\n  const methods = [];\n  if (classObj.Children !== null) {\n    for (const child of classObj.Children) {\n      if (child.Type === 'Field') {\n        fields.push(preProcessField(child));\n      } else if (child.Type === 'Method') {\n        methods.push(preProcessMethod(child));\n      }\n    }\n  }\n  return new Node(id, name, fields, methods);\n};\nconst preProcessRelationship = (relationshipObj, id) => {\n  const type = relationshipObj.Type;\n  const source = relationshipObj.SourceClass;\n  const target = relationshipObj.TargetClass;\n  const leftLabel = relationshipObj.LeftLabel;\n  const middleLabel = relationshipObj.MiddleLabel;\n  const rightLabel = relationshipObj.RightLabel;\n  return new Relationship(id, type, source, target, leftLabel, middleLabel, rightLabel);\n};\nconst preProcessField = fieldObj => {\n  const name = fieldObj.Name;\n  const visiblity = fieldObj.Visibility;\n  const defaultValue = fieldObj.Default;\n  const valueType = fieldObj.ValueType;\n  return new Field(name, visiblity, defaultValue, valueType);\n};\nconst preProcessMethod = methodObj => {\n  const name = methodObj.Name;\n  const visibility = methodObj.Visibility;\n  const returnType = methodObj.ReturnType;\n  const parameters = [];\n  console.log(methodObj.Parameters);\n  if (methodObj.Parameters !== null) {\n    for (const parameter of methodObj.Parameters) {\n      parameters.push(preProcessField(parameter));\n    }\n  }\n  return new Method(name, visibility, parameters, returnType);\n};","map":{"version":3,"names":["Relationship","Node","Field","Method","preProcessJSONData","data","nodeNameToId","Map","edgeNameToId","nodeCount","edgeCount","Children","root","nodeList","edgeList","child","Type","id","node","preProcessClass","push","set","sourceId","get","source","targetId","target","edge","preProcessRelationship","console","log","classObj","name","Name","fields","methods","preProcessField","preProcessMethod","relationshipObj","type","SourceClass","TargetClass","leftLabel","LeftLabel","middleLabel","MiddleLabel","rightLabel","RightLabel","fieldObj","visiblity","Visibility","defaultValue","Default","valueType","ValueType","methodObj","visibility","returnType","ReturnType","parameters","Parameters","parameter"],"sources":["C:/Users/kaden/Documents/Web Development/Luma/src/helper/preProcessNodeJSON.js"],"sourcesContent":["import Relationship from \"../models/edgeModel\";\r\nimport Node from \"../models/nodeModel\";\r\nimport Field from '../models/fieldModel';\r\nimport Method from '../models/methodModel';\r\n\r\nexport const preProcessJSONData = (data) => {\r\n    const nodeNameToId = new Map();\r\n    const edgeNameToId = new Map();\r\n\r\n    let nodeCount = 0;\r\n    let edgeCount = 0;\r\n\r\n    // if root has no class or relationship children, return\r\n    if(data.Children === null) return null;\r\n\r\n    const root = {\r\n        nodeList: [],\r\n        edgeList: [],\r\n    }\r\n\r\n    // loop through and gather all nodes\r\n    for(const child of data.Children){\r\n        if(child.Type === 'Class'){\r\n            const id = `n${nodeCount}`;\r\n            const node = preProcessClass(child, id);\r\n\r\n            root.nodeList.push(node);\r\n            nodeNameToId.set(id, node);\r\n            nodeCount++;\r\n        }\r\n    }\r\n    // loop through and gather all edges\r\n    for(const child of data.Children){\r\n        if(child.Type === 'Relationship'){\r\n            const sourceId = nodeNameToId.get(child.source) || null;\r\n            const targetId = nodeNameToId.get(child.target) || null;\r\n\r\n            // if source node does not exist, do not add this edge to the list\r\n            if(sourceId === null) return;\r\n            // if target node does not exist, do not add this edge to the list\r\n            if(targetId === null) return;\r\n\r\n\r\n            const id = `e${edgeCount}`;\r\n            const edge = preProcessRelationship(child,id);\r\n            root.edgeList.push(edge);\r\n            edgeNameToId.set(id, edge);\r\n            edgeCount++;\r\n        }\r\n    }\r\n\r\n    console.log(root.nodeList);\r\n    return root;\r\n}\r\n\r\nconst preProcessClass = (classObj, id) => {\r\n    const name = classObj.Name;\r\n\r\n    const fields = [];\r\n    const methods = [];\r\n\r\n    if(classObj.Children !== null){\r\n        for(const child of classObj.Children){\r\n            if(child.Type === 'Field'){\r\n                fields.push(preProcessField(child)); \r\n            }\r\n            else if (child.Type === 'Method'){\r\n                methods.push(preProcessMethod(child));\r\n            }\r\n        }\r\n    }\r\n\r\n    return new Node (id,name,fields,methods);\r\n}\r\n\r\nconst preProcessRelationship = (relationshipObj, id) => {\r\n    const type = relationshipObj.Type;\r\n    const source = relationshipObj.SourceClass;\r\n    const target = relationshipObj.TargetClass;\r\n    const leftLabel = relationshipObj.LeftLabel;\r\n    const middleLabel = relationshipObj.MiddleLabel;\r\n    const rightLabel = relationshipObj.RightLabel;\r\n\r\n    return new Relationship(id, type, source, target, leftLabel, middleLabel, rightLabel);\r\n}\r\n\r\nconst preProcessField = (fieldObj) => {\r\n    const name = fieldObj.Name;\r\n    const visiblity = fieldObj.Visibility;\r\n    const defaultValue = fieldObj.Default;\r\n    const valueType = fieldObj.ValueType;\r\n\r\n    return new Field(name,visiblity,defaultValue,valueType);\r\n}\r\n\r\nconst preProcessMethod = (methodObj) => {\r\n    const name = methodObj.Name;\r\n    const visibility = methodObj.Visibility;\r\n    const returnType = methodObj.ReturnType;\r\n    const parameters = [];\r\n\r\n    console.log(methodObj.Parameters)\r\n\r\n    if(methodObj.Parameters !== null){\r\n        for(const parameter of methodObj.Parameters){\r\n            parameters.push(preProcessField(parameter));\r\n        }    \r\n    }\r\n\r\n    return new Method (name,visibility,parameters,returnType);\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}